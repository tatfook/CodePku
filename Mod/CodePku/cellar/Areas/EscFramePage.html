<!-- "script/apps/Aries/Creator/Game/Areas/EscFramePage.html" -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title></title>
</head>
<body>
    <pe:mcml>
<script refresh="false" type="text/npl" src="EscFramePage.lua"><![CDATA[
NPL.load("(gl)script/apps/Aries/Creator/Game/Areas/ServerPage.lua");
local ServerPage = commonlib.gettable("MyCompany.Aries.Creator.Game.Desktop.ServerPage");
GameLogic = commonlib.gettable("MyCompany.Aries.Game.GameLogic")
NPL.load("(gl)script/apps/Aries.Creator.Game.Desktop.EscFramePage.lua");
EscFramePage = commonlib.gettable("MyCompany.Aries.Creator.Game.Desktop.EscFramePage");
EscFramePage.OnInit();
local UserConsole = NPL.load('(gl)Mod/CodePku/cellar/UserConsole/Main.lua');

local AccountSettingPage = NPL.load("(gl)Mod/CodePku/cellar/Areas/AccountSettingPage.lua");
NPL.load("(gl)Mod/CodePku/cellar/GUI/Home/HomeManage.lua")
local HomeManage = commonlib.gettable("Mod.CodePku.Common.HomeManage")

function ClosePage()
    Page:CloseWindow();
end

function OnLeave()
    -- GameLogic.RunCommand("/menu file.exit");
    if (System.Codepku and System.Codepku.Coursewares) or HomeManage:IsMyHome() then
        if (System.Codepku.Coursewares.category == 3) then
            ClosePage();
        else
            UserConsole:CourseEntry();
        end
    end
end

function OnSettings()
    GameLogic.RunCommand("/menu file.settings");
end

function OnAccountSetting()
    AccountSettingPage:ShowPage(true);
end

function OnClickButton(name,mcmlNode)
    ClosePage();
    if(name=="systemSetting") then
        OnSettings();
    elseif(name=="exitWorld") then
        OnLeave();
    elseif(name=="accountSetting") then
        OnAccountSetting();
    end
end

]]></script>
<style type="text/mcss">
{
    green_button = {
        color = "#ffffff",
        textcolor = "#ffffff",
        width = 308,
        height = 61,
        ["font-size"] = 30,
        ["base-font-size"] = 30,
        border = "none",
        ["font-weight"] = "bold",
        ["font-family"] = "Microsoft Yahei",
        background = "codepku/image/textures/modal/setting_v2_32bits.png;231 164 20 20: 9 9 9 9",
        ["margin-top"] = 24
    }
}
</style>
<!-- <div style="height:64px;width:300px;">
    <pe:if condition='<%=WorldStacks:GetReturnWorld() ~= nil%>'>
        <input type="button" value='<%=WorldStacks:GetReturnWorld():GetDisplayName()%>' class="mc_big_button" style="color:#572712;font-size:16px;width:300px;height:52px;" onclick="OnReturnLastWorld" />    
    </pe:if>
</div> -->
<aries:window
    mode="center"
    width="600"
    height="374"
    title='<%=L"系统设置"%>'
    title_height="69.6"
    onclose="ClosePage"
    close_height="38"
    style="showline: false;"
>
    <pe:container alignment="_ctt" style="background:;">
        <div style="margin-top:5px;">
            <input type="button" value='<%=L"系统设定"%>' name= "systemSetting" class="green_button" onclick="OnClickButton"/>
            <input type="button" value='<%=L"账号设置"%>' name= "accountSetting" class="green_button" onclick="OnClickButton"/>
            <input type="button" value='<%=L"返回大厅"%>' name= "exitWorld" class="green_button" onclick="OnClickButton"/>
        </div>
    </pe:container>
</aries:window>
</pe:mcml>
</body>
</html>

