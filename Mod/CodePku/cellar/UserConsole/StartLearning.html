<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >
    <head>
    <title>2020.05.27</title>
    </head>
    <body>
        <pe:mcml>  
            <script type="text/npl" refresh="false"><![CDATA[ 
                UserConsole = NPL.load('./Main.lua')
                CodePkuService = NPL.load("(gl)Mod/CodePku/service/CodePkuService.lua")

                local page = document:GetPageCtrl()
                Mod.CodePku.Store:Set("page/StartLearning", page)

                function startLearning()
                    UserConsole:CourseEntry()
                end

                function currentUserName()
                    if System.User.nickName then
                        return System.User.nickName
                    else
                        local userinfo = Mod.CodePku.Store:Get('user/info');
                        local nickname = userinfo.nickname or userinfo.username or userinfo.mobile;
                        LOG.std(nil, "info", "codepku", username)
                        return nickname;
                    end
                end

                function logout()
                    UserConsole:Logout()
                end
            ]]></script>
            <style type="text/mcss">
                {
                    logout = {
                        width = 76.8,
                        height = 42,
                        background = "codepku/image/textures/login/mainlogin_32bits.png# 30 1889 129 71)",
                        ["margin-top"] = 37.8,
                        ["margin-right"] = 51
                    },
                    start = {
                        ["font-weight"] = "bold",
                        ["font-family"] = "Microsoft Yahei",
                        width = 372,
                        height = 42.6,
                        background = "codepku/image/textures/login/mainlogin_32bits.png# 1000 1649 620 72)",
                        ["background-color"] = '#ffffff',
                    },
                    click_window = {
                        ["position"] = "relative",
                        width = 372,
                        height = 42.6,
                        background = "codepku/image/textures/login/mainlogin_32bits.png# 1000 1649 620 72)",
                        ["margin-left"] = -186,
                        ["margin-top"] = -21.3,
                    },
                }
            </style>
            <pe:container alignment="_fi" ClickThrough="true" style="position: relative;background:;">
                <div style="background:'';" onclick="startLearning()" width="100%" height="100%"></div>
            </pe:container>
            <!-- <pe:container alignment="_ctt" ClickThrough="true" style="position:relative;width:370px;height:75px;margin-top:71px;background:;">
                <div style='<%="width:370px;height:75px;background:url(codepku/image/textures/login/mainlogin_32bits.png# 1071 233 616 125);"%>'></div>
            </pe:container> -->
            <pe:container alignment="_rt" ClickThrough="true" style="position:relative;background:;">
                <input type="button" name="logout" value='' class="logout" onclick="logout()" style="margin: 2px 2px 0 0" />
            </pe:container>
            
            <pe:container alignment="_ctt" ClickThrough="true" style="position:relative;width:561px;height:45px;margin-top:174px;background:url(codepku/image/textures/login/mainlogin_32bits.png# 32 1367 1035 74);text-align:center;">
                <pe:container alignment="_ctt" style="font-size:20.4px;base-font-size:20.4px;font-weight:bold;background:;margin-top:8px;">
                    <%= currentUserName() %> ，欢迎进入玩学世界
                </pe:container>
            </pe:container>
            <pe:if condition="<%= System.os.IsMobilePlatform() %>">
                <pe:container alignment="_ctt" ClickThrough="true" style="position:relative;width:372px;margin-top:247.2px;height:42.6px;background:codepku/image/textures/login/mainlogin_32bits.png# 1000 1649 620 72);">
                <!-- <input type="button" DefaultButton="true" onclick="startLearning()" class="start" value='' /> -->
                </pe:container>
            </pe:if>
            <pe:if condition="<%= not System.os.IsMobilePlatform() %>">
                <pe:container alignment="_ct" ClickThrough="true" class="click_window">
                <!-- <input type="button" DefaultButton="true" onclick="startLearning()" class="start" value='' /> -->
                </pe:container>
            </pe:if>
        </pe:mcml>
    </body>
</html>