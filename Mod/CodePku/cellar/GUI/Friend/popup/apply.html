<!-- "Mod/CodePku/cellar/Gui/FriendUI/MyFriend.html" -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title></title>
</head>

<body>
<pe:mcml>
<script refresh="false" type="text/npl" src="FriendUI.lua">
<![CDATA[
local FriendUI = NPL.load("(gl)Mod/CodePku/cellar/GUI/Friend/FriendUI.lua")

--{nickname = "11111", gender="1", head="",is_online="true", no="12321", id="1321"}
--
function getFriendData()
    return FriendUI.vars["apply"] or {}
end


function ClosePage()
    Page:CloseWindow();
    page = FriendUI.ui
    page:Refresh(0)
end


function ClickAgree(aid)
    res = FriendUI:HandleApply(aid, 1)
    if(res) then
        FriendUI:GetApply()
        Page:Refresh(0);
    end
end

function ClickRefuse(aid)
    FriendUI:HandleApply(aid, 2)
    if(res) then
        FriendUI:GetApply()
        Page:Refresh(0);
    end
end

function ClickBlacklist(fid)
    res = FriendUI:block(fid)
    if(res) then
        FriendUI:GetApply()
        Page:Refresh(0);
    end
end

]]>
</script>

<pe:container alignment="_lt" width="1920" height="1080">

    <div style="position: relative; width: 1158; height: 588; left: 406; top: 219; background:url(codepku/image/textures/common_32bits.png#99 275 1158 588);"></div>

    <div style="position: relative; width: 410; height: 89; left: 780; top: 219; text-align: center; font-family: NotoSansHans-Medium; color: #F46D3D; font-size: 45px; line-height: 89; background:url(codepku/image/textures/common_32bits.png#1277 377 410 87);">
        好友申请
    </div>

    <div style="position: relative; width: 66; height: 76; left: 1463; top: 227; background: url(codepku/image/textures/common_32bits.png#110 73 68 78);" onclick="ClosePage"></div>

    <!--context-->

    <pe:gridview name="MyFriend" style="position: relative; width: 1145; height: 450; left: 420; top: 330; " 
    DataSource='<%=getFriendData() %>' CellPadding="6" ItemsPerLine="1" AllowPaging="false" RememberScrollPos="true" RememberLastPage="true"
    VerticalScrollBarStep="36" VerticalScrollBarOffsetX="8">
    <Columns>

        <div style="width: 1100; height: 200; margin-top: 4;  background: url(codepku/image/textures/friend/main.png#23 216 1512 171);">

            <div style="position: relative; width: 130; height: 130; left: 27; top: 35; background: url(codepku/image/textures/common_32bits.png#1308 569 130 130);"></div>
            <div style='<%=format("position:relative; width:130; height:130; left: 27; top: 35; background: url(%s);", Eval("head"))%>'></div>

            <div style="position: relative; width: 280; height: 34; left:175; top: 41; color: #FFFFFF; font-family: NotoSansHans-Medium; font-size: 36;"><%=Eval("nickname")%>
                <pe:if condition='<%=Eval("gender") == 1 %>'>
                    <div style='width:38; height:41; top: 2; left: 14; float: left;  background: url(codepku/image/textures/friend/main.png#399 97 34 34);'></div>
                </pe:if>
                <pe:if condition='<%=Eval("gender") == 2 %>'>
                    <div style='width:38; height:41; top: 2; left: 14; float: left;  background: url(codepku/image/textures/friend/main.png#399 97 34 34);'></div>
                </pe:if>
            </div>
            
            <div style="position: relative; width: 250; height: 27; left: 177; top: 91; color: #FFFFFF; font-family: NotoSansHans-Medium; font-size: 36;">ID: <%=Eval("no")%></div>

            <pe:if condition="<%=Eval('is_online') == true%>">
                <div style="position: relative; width: 72px; height: 34px; left: 176; top: 133; font-family: NotoSansHans-Medium; font-size: 36; color: #00FF9C;">在线</div>
            </pe:if>
            <pe:if condition="<%=Eval('is_online') == false%>">
                <div style="position: relative; width: 72px; height: 34; left: 176; top: 133; font-family: NotoSansHans-Medium; font-size: 36; color: #0F1F6F;">离线</div>
            </pe:if>

            <input type="button" style="position: relative; width: 150; height: 80; left: 535; top: 71; font-size: 36; font-weight: bold; color: #FEFEFE; padding-left: 40; padding-top: 23; padding-right: 39; padding-bottom: 22; background: url(codepku/image/textures/common_32bits.png#1305 740 86 86:9 9 9 9);" name='<%=Eval("id")%>' onclick="ClickDelete" />
            <div style="position: relative; width: 30; height: 30; left: 593; top: 98; background: url(codepku/image/textures/common_32bits.png#1497 292 30 30);"></div>
            <input type="button" style="position: relative; width: 150; height: 80; left: 727; top: 71; font-size: 36; font-weight: bold; color: #FEFEFE; padding-left: 40; padding-top: 23; padding-right: 39; padding-bottom: 22; background: url(codepku/image/textures/common_32bits.png#1404 740 86 86:9 9 9 9);" name='<%=Eval("id")%>' onclick="ClickAgree" />
            <div style="position: relative; width: 39; height: 28; left: 783; top: 98; background: url(codepku/image/textures/common_32bits.png#1567 292 39 28);"></div>
            <input type="button" style="position: relative; width: 150; height: 80; left: 919; top: 71; font-size: 36; font-family: NotoSansHans-Bold; font-weight: bold; color: #FEFEFE; padding-left: 40; padding-top: 23; padding-right: 39; padding-bottom: 22; background: url(codepku/image/textures/common_32bits.png#1601 740 86 86:9 9 9 9);" value="举报" name='<%=Eval("id")%>' onclick="ClickBlacklist" />



            <!-- <pe:div style="position:relative; width:1100; height:130; margin-left: 20; background: url(codepku/image/textures/friend/friend_apply/item_bg.png);"></pe:div>
            <pe:div style="position:relative; width:110; height:110; margin-top: 10; margin-left: 40; background: url(codepku/image/textures/friend/friend_apply/item_head.png);"></pe:div>
            <pe:div style='<%=format("position:relative; width:90; height:90; left: 55;top: 20;background: url(%s);", Eval("head"))%>'></pe:div>
            <div style="position:relative; left: 170; top: 10; ">
                <div style="height:40; font-size: 40;float: left; color: #ffffff;"><%=Eval("nickname")%></div>
                <pe:if condition='<%=Eval("gender") ~=0%>'>
                    <div style='<%=format("width:37; height:37; top: 2; left: 20; float: left; background: url(codepku/image/textures/friend/item/%s.png);", Eval("gender"))%>'></div>
                </pe:if>
            </div> -->
            <!-- <pe:if condition="<%=Eval('is_online') == true%>">
                <div style="position:relative; width:250; height:30; left:170;top:50;font-size: 26;color: #00ff22;">在线</div>
            </pe:if>
            <pe:if condition="<%=Eval('is_online') == false%>">
                <div style="position:relative; width:250; height:30; left:170;top:50;font-size: 26;color: #f13709;">离线</div>
            </pe:if>
            <div style="position:relative; width:250; height:30; left:170;top:80;font-size: 26;color: #FFFFFF;">ID: <%=Eval("no")%></div> -->
            
            <!-- <pe:div style="position:relative;width:70;height:45;top:45;left:520;background: url(codepku/image/textures/friend/friend_apply/refuse.png);" name='<%=Eval("id")%>' onclick="ClickRefuse"></pe:div>
            <pe:div style="position:relative;width:70;height:45;top:45;left:640;background: url(codepku/image/textures/friend/friend_apply/agree.png);" name='<%=Eval("id")%>' onclick="ClickAgree"></pe:div>
            <pe:div style="position:relative;width:70;height:45;top:45;left:760;background: url(codepku/image/textures/friend/friend_apply/blacklist.png);" name='<%=Eval("friend_id")%>' onclick="ClickBlacklist"></pe:div> -->
                
        </div>
    </Columns>
    </pe:gridview>

</pe:container>
</pe:mcml>
</body>

</html>